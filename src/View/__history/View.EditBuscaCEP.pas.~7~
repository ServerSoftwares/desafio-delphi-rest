unit View.EditBuscaCEP;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants, 
  FMX.Types, FMX.Graphics, FMX.Controls, FMX.Forms, FMX.Dialogs, FMX.StdCtrls, FMX.Objects, FMX.Controls.Presentation,
  FMX.Edit, FMX.Layouts, FMX.Effects;

type
  TfrEditBuscaCEP = class(TFrame)
    recBackgrounEdit: TRectangle;
    layMain: TLayout;
    edtCEP: TEdit;
    pthSearch: TPath;
    shEditCEP: TShadowEffect;
    procedure recBackgrounEditMouseMove(Sender: TObject; Shift: TShiftState; X, Y: Single);
    procedure edtCEPKeyDown(Sender: TObject; var Key: Word; var KeyChar: Char; Shift: TShiftState);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

implementation

uses Character;

{$R *.fmx}

procedure TfrEditBuscaCEP.edtCEPKeyDown(Sender: TObject; var Key: Word; var KeyChar: Char; Shift: TShiftState);
begin
  if Length(edtCEP.Text) = 2 then
      edtCEP.Text := edtCEP.Text + '.'
  else
  if Length(edtCEP.Text) = 6 then
      edtCEP.Text := edtCEP.Text + '-';

  edtCEP.SelStart := Length(edtCEP.Text);
end;

procedure TfrEditBuscaCEP.recBackgrounEditMouseMove(Sender: TObject; Shift: TShiftState; X, Y: Single);
begin
  shEditCEP.Enabled := edtCEP.IsFocused;
end;

end.
